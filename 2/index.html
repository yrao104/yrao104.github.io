<!DOCTYPE html>
<html>
<head>
    <title>CS 180 Project 2</title>
    <style>
        body {
            font-family: Georgia, sans-serif;
            margin: 20px;
            text-align: center;
            background: radial-gradient(circle,rgba(238, 174, 202, 1) 0%, rgba(148, 187, 233, 1) 100%);
        }

        h1 {
            margin-bottom: 30px;
            margin-top: 60px;
        }

        h2 {
            margin-bottom: 20px;
            margin-top: 0px;
        }

        .info {
            margin-left: auto;
            margin-right: auto;
            width: 80%;
            border-radius: 8px;
            text-align: left;
            background: #e6e0f5;
            padding: 50px;
        }

        .container {
            text-align: center;
            flex: 1;
            max-width: 30%;
        }

        .solo-row .container {
            max-width: 60%;
        }

        .container img {
            height: 300px;
            width: auto;
        }

        hr {
            margin-top: 40px;
            margin-bottom: 40px; 
        }

        .caption {
            font-size: 15px;
            margin-top: 5px;
        }

        .row {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        p {
            margin-top: 30px;
            margin-bottom: 30px;
            margin-right: 15px;
            margin-left: 15px;
        }

    </style>
</head>
<body>
    <h1>Project #2: Fun with Filters and Frequencies!</h1>

    <h2 style="margin-bottom: 50px">Part 1: Fun with Filters</h2>

    <div class="info">

        <h2>Part 1.1: Convolutions From Scratch</h2>
        <div class="row solo-row">
            <div class="container">
                <img src="./media/conv2.png">
                <div class="caption">Convolution - 2 For Loops</div>
                <div class="caption">Runtime: 9.91 seconds</div>
            </div>
        </div>

        <div class="row solo-row">
            <div class="container">
                <img src="./media/conv2.png">
                <div class="caption">Convolution - 2 For Loops</div>
                <div class="caption">Runtime: 9.91 seconds</div>
            </div>
        </div>

        <p style="text-align: left;">
            <strong>Runtime Analysis</strong>
            <br>
            The runtime of the convolution implementation with 2 loops was faster than the convolution implementation with 4 loops by about a factor of 11.
            This makes sense given the fact that the 2 loop implemention utilizes numpy to vectorize the inner 2 loops that are present in the 4 loop implementation.
            As expected, scipy.signal.convolve2d had the fastest runtime of about 0.42 seconds, since it is more optimized than either of the loop implementations I wrote.
            <br><br>
            <strong>Boundary Handling</strong>
            <br>
            I handled boundaries for the 2 and 4 loop implementations by padding the image by half the kernel dimensions on all sides to ensure that the box filter is appropriately aligned in all portions of the image and the image output is the same size as the input size.
            For the scipy.signal.convolve2d implementation, I handled boundaries by include the mode="same" parameter to similarly have zero padding.

        </p>

         <div class="row">
            <div class="container">
                <img src="./media/yamuna.png">
                <div class="caption">Original Image</div>
            </div>
            <div class="container">
                <img src="./media/yamunabox.png">
                <div class="caption">Convolved Image with 9x9 Box Filter</div>
            </div>
        </div>

         <div class="row">
            <div class="container">
                <img src="./media/yamunadx.png" alt="Aligned cathedral jpg">
                <div class="caption">Convolved Image with Dx</div>
            </div>
            <div class="container">
                <img src="./media/yamunady.png" alt="Aligned monastery jpg">
                <div class="caption">Convolved Image with Dy</div>
            </div>
        </div>

        <p style="text-align: left;">
            The convolved image with the 9x9 box filter smooths out the image by effecitvely blurring it. 
            The convolved image with Dx emphasizes the vertical edges in the image. We can see that it emphasizes my hair as well as the outline of my sweater.
            The convolved image with Dy emphasizes the horizontal edges in the image. We can see that it emphasizes my smile, eyebrows, and eyes.
        </p>

        <hr />

        <h2>Part 1.2: Finite Difference Operator</h2>

        <p style="text-align: left;">
            In this part, I computed the convolutions of the camera man image using Dx and Dy. 
            Then, I utilized the results to generate a gradient magnitude image. 
            Lastly, using a threshold, I binarized the gradient magnitude image, resulting in a binarized edge image.
        </p>

        <div class="row">
            <div class="container">
                <img src="./media/camdx.png">
                <div class="caption">Partial Derivative in X</div>
            </div>
            <div class="container">
                <img src="./media/camdy.png">
                <div class="caption">Partial Derivative in Y</div>
            </div>
            <div class="container">
                <img src="./media/camgradmag.png">
                <div class="caption">Gradient Magnitude Image</div>
            </div>
        </div>

        <div class="row">
            <div class="container">
                <img src="./media/bin0.1.png">
                <div class="caption">Binarized Edge Image - 0.1 Threshold</div>
            </div>
            <div class="container">
                <img src="./media/bin0.2.png">
                <div class="caption">Binarized Edge Image - 0.2 Threshold (Best Image)</div>
            </div>
            <div class="container">
                <img src="./media/bin0.3.png">
                <div class="caption">Binarized Edge Image - 0.3 Threshold</div>
            </div>
        </div>

        <p style="text-align: left;">
            <strong>Tradeoffs Between Edges and Noise Removal (Threshold Values)</strong>
            <br>
            The binarized edge image with a threshold of 0.1 includes too much noise near the ground level of the image.
            On the other hand, the binarized edge image with a threshold of 0.2 reduces this noise while still preserving the main edges of the image.
            Lastly, the binarized edge image with a threshold of 0.3 includes no noise but removes some critical edges of the image.
            As a result, the binarized edge image with a threshold of 0.2 seems to be the best image for this task.
        </p>

        <hr />

        <h2>Part 1.3: Derivative of Gaussian (DoG) Filter</h2>

        <p style="text-align: left;">
            In this part, I reduced the noise present in the previous edge image. 
            First, I created a 2D Gaussian filter that I used to convolve the original cameraman image with.
            Then, I used Dx and Dy to get the partial derivatives with the Gaussian filter.
            Utilizing this, I calculated the gradient magnitude and binarized gradient magnitude images similar to the process in the last part.
            Next, I convolved the Guassian with Dx and Dy to calculate the derivatives of the Gaussian filter in X and Y.
            Lastly, I used these DoG X and Y filters to convolve the cameraman image.
        </p>

        <div class="row">
            <div class="container">
                <img src="./media/gauss.png">
                <div class="caption">Gaussian Filter</div>
            </div>
            <div class="container">
                <img src="./media/blurgauss.png">
                <div class="caption">Blurred Image with Gaussian Filter</div>
            </div>
        </div>

        <div class="row">
            <div class="container">
                <img src="./media/dxgauss.png">
                <div class="caption">Partial Derivative X with Gaussian</div>
            </div>
            <div class="container">
                <img src="./media/dygauss.png">
                <div class="caption">Partial Derivative Y with Gaussian</div>
            </div>
        </div>

        <div class="row">
            <div class="container">
                <img src="./media/gradmaggauss.png">
                <div class="caption">Gradient Magnitude Image with Gaussian</div>
            </div>
            <div class="container">
                <img src="./media/bingauss.png">
                <div class="caption">Binarized Edge Image with Gaussian</div>
            </div>
        </div>

        <p style="text-align: left;">
            <strong>Comparison to Finite Difference Method</strong>
            <br>
            As we can see, the binarized edge image using the Gaussian filter has significantly less noise than the previous binarized edge image with the filter.
            In addition, the finite difference method includes much sharper, thinner edges since there is no smoothing involved, whereas the Gaussian filter results in much thicker edges.
        </p>

        <div class="row">
            <div class="container">
                <img src="./media/dogx.png">
                <div class="caption">DoG X Filter</div>
            </div>
            <div class="container">
                <img src="./media/dogy.png">
                <div class="caption">DoG Y Filter</div>
            </div>
        </div>
        <div class="row">
            <div class="container">
                <img src="./media/dxdog.png">
                <div class="caption">Partial Derivative X with DoG</div>
            </div>
            <div class="container">
                <img src="./media/dydog.png">
                <div class="caption">Partial Derivative Y with DoG</div>
            </div>
        </div>

        <p style="text-align: left;">
            <strong>Comparison to Finite Difference Method</strong>
            <br>
            Similar to the previous example, the finite difference method had thinner, less pronounced edges for the derivative images. 
            On the other hand, the edges ar emuch more pronounced and thicker for the derivative images using the DoG filter.
        </p>
  
    </div>

    <h2 style="margin-bottom: 50px; margin-top: 50px">Part 2: Fun with Frequencies</h2>

    <div class="info">

        <h2>Part 2.1: Image "Sharpening"</h2>
        <p style="text-align: left;">
            <strong>Differences with Finite Difference Method</strong>
            <br>
            Information...
        </p>

        <hr />

        <h2>Part 2.2: Hybrid Images</h2>
        <p style="text-align: left;">
            Information...
            <br><br>
            Information... 
        </p>

        <hr />

        <h2>Part 2.3: Gaussian and Laplacian Stacks</h2>
        <p style="text-align: left;">
            Information...
            <br><br>
            Information... 
        </p>

        <hr />

         <h2>Part 2.4: Multiresolution Blending (a.k.a. the Oraple)</h2>
        <p style="text-align: left;">
            Information...
            <br><br>
            Information... 
        </p>

    </div>

    tell us about the most important thing you learned from this project

</body>
</html>
